<div class="container mt-5">
  <%= render CardComponent.new do |card| %>
    <% card.with_header do %>
      <h1>Messages#index</h1>
    <% end %>

    <% card.with_list do %>
      <% if messages.present? %>
        <% messages.each do |message| %>
          <li class="list-group-item clearfix m-1">
            <%= link_to message_path(message.other_user(current_user)) do %>
              <%= render MessageComponent.new(message: message, user: current_user, index_message: true) %>
            <% end %>
          </li>
        <% end %>
      <% else %>
        <p>No messages yet.</p>
      <% end %>
    <% end %>
  <% end %>
</div>
